
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Backend Setting &#8212; Ivy Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=7c465b21" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Inter:100,200,300,regular,500,600,700,800,900" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../../_static/documentation_options.js?v=3ce10a4d"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=4ea706d9"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-QP5BET66XH"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-QP5BET66XH');
            </script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-QP5BET66XH');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'overview/deep_dive/backend_setting';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://unify.ai/docs/versions/ivy.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'dev';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = false;
        </script>
    <script src="../../_static/js/kapa.ai.js?v=996880f3"></script>
    <link rel="icon" href="https://github.com/unifyai/unifyai.github.io/blob/main/img/externally_linked/ivy_logo_only.png?raw=true"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Arrays" href="arrays.html" />
    <link rel="prev" title="Superset Behaviour" href="superset_behaviour.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../index.html">
                        Home
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../get_started.html">
                        Get Started
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../demos/quickstart.html">
                        Quickstart
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../demos/learn_the_basics.html">
                        Learn the basics
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../demos/guides.html">
                        Guides
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../demos/examples_and_demos.html">
                        Examples and Demos
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../motivation.html">
                        Motivation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../related_work.html">
                        Related Work
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../design.html">
                        Design
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../contributing.html">
                        Contributing
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../volunteer_ranks.html">
                        Contributor Leaderboard
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../deep_dive.html">
                        Deep Dive
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../glossary.html">
                        Glossary
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../faq.html">
                        FAQ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../one_liners.html">
                        One liners
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../docs/functional/ivy.functional.ivy.html">
                        Functions
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../docs/data_classes/ivy.data_classes.html">
                        Data classes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../docs/ivy.stateful.html">
                        Framework classes
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../docs/ivy.utils.html">
                        Utils
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../docs/ivy_tests.test_ivy.helpers.html">
                        Testing
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../deep_dive.html" class="nav-link">Deep Dive</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Backend Setting</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="backend-setting">
<h1>Backend Setting<a class="headerlink" href="#backend-setting" title="Link to this heading">#</a></h1>
<p>The backend framework can either be set by calling <code class="code docutils literal notranslate"><span class="pre">ivy.set_backend(backend_name)</span></code> or it can inferred from the arguments.
For the latter, a global variable <a class="reference external" href="https://github.com/unifyai/ivy/blob/3358b5bbadbe4cbc0509cad4ea8f05f178dfd8b8/ivy/utils/backend/handler.py">implicit_backend</a> is located in the file which is initialized as numpy, and is always used to infer the backend in cases where: (a) no backend has been set using the <code class="code docutils literal notranslate"><span class="pre">set_backend</span></code> function and (b) the backend cannot be inferred from the inputs.
If the framework can be inferred from the inputs, then this is always used, and the <a class="reference external" href="https://github.com/unifyai/ivy/blob/3358b5bbadbe4cbc0509cad4ea8f05f178dfd8b8/ivy/utils/backend/handler.py">implicit_backend</a> is overwritten with the framework inferred.
numpy will always be the default backend unless it is explicitly set or is inferred.
When calling <a class="reference external" href="https://github.com/unifyai/ivy/blob/1eb841cdf595e2bb269fce084bd50fb79ce01a69/ivy/backend_handler.py#L154">this function</a> for setting the backend, the following steps are performed:</p>
<ol class="arabic simple">
<li><p>store a global copy of the original <code class="xref py py-attr docutils literal notranslate"><span class="pre">ivy.__dict__</span></code> to <code class="code docutils literal notranslate"><span class="pre">ivy_original_dict</span></code>, if this is not already stored.</p></li>
<li><p><a class="reference external" href="https://github.com/unifyai/ivy/blob/1eb841cdf595e2bb269fce084bd50fb79ce01a69/ivy/backend_handler.py#L184">import the backend module</a>, for example <code class="xref py py-mod docutils literal notranslate"><span class="pre">ivy.functional.backends.torch</span></code>, if the backend has been passed in as a string.
All functions in this unmodified backend module are <em>primary</em> functions, because only primary functions are stored in <code class="xref py py-mod docutils literal notranslate"><span class="pre">ivy.functional.backends.backend_name</span></code>.
This backend module does not include any <em>compositional</em> functions.</p></li>
<li><p>loop through the original <code class="code docutils literal notranslate"><span class="pre">ivy_original_dict</span></code> (which has all functions, including compositional), and (a) add the primary function from the backend if it exists, (b) else add the compositional function from <code class="code docutils literal notranslate"><span class="pre">ivy_original_dict</span></code>.</p></li>
<li><p><a class="reference external" href="https://github.com/unifyai/ivy/blob/1eb841cdf595e2bb269fce084bd50fb79ce01a69/ivy/backend_handler.py#L204">wrap the functions</a> where necessary, extending them with shared repeated functionality and <a class="reference external" href="https://github.com/unifyai/ivy/blob/1eb841cdf595e2bb269fce084bd50fb79ce01a69/ivy/backend_handler.py#L212">writing the function</a> to <code class="xref py py-attr docutils literal notranslate"><span class="pre">ivy.__dict__</span></code>.
Wrapping is used in order to avoid excessive code duplication in every backend function implementation.
This is explained in more detail in the next section: <a class="reference internal" href="function_wrapping.html"><span class="doc">Function Wrapping</span></a>.</p></li>
</ol>
<p>It’s helpful to look at an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">]])</span>
<span class="n">ivy</span><span class="o">.</span><span class="n">current_backend</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;ivy.functional.backends.numpy&#39;</span> <span class="kn">from</span> <span class="s1">&#39;/opt/project/ivy/functional/backends/numpy/__init__.py&#39;</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mf">3.</span><span class="p">]),</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">([</span><span class="mf">4.</span><span class="p">]))</span>
<span class="n">ivy</span><span class="o">.</span><span class="n">current_backend</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;ivy.functional.backends.torch&#39;</span> <span class="kn">from</span> <span class="s1">&#39;/opt/project/ivy/functional/backends/torch/__init__.py&#39;</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ivy</span><span class="o">.</span><span class="n">set_backend</span><span class="p">(</span><span class="s1">&#39;jax&#39;</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">jax</span><span class="o">.</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span><span class="mf">3.</span><span class="p">]]),</span> <span class="n">jax</span><span class="o">.</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">5.</span><span class="p">],[</span><span class="mf">6.</span><span class="p">]]))</span>
<span class="n">ivy</span><span class="o">.</span><span class="n">current_backend</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;ivy.functional.backends.jax&#39;</span> <span class="kn">from</span> <span class="s1">&#39;/opt/project/ivy/functional/backends/jax/__init__.py&#39;</span><span class="o">&gt;</span>
<span class="n">ivy</span><span class="o">.</span><span class="n">previous_backend</span><span class="p">()</span>
<span class="n">ivy</span><span class="o">.</span><span class="n">current_backend</span><span class="p">()</span>
<span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;ivy.functional.backends.torch&#39;</span> <span class="kn">from</span> <span class="s1">&#39;/opt/project/ivy/functional/backends/torch/__init__.py&#39;</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In the last example above, the moment any backend is set, it will be used over the <a class="reference external" href="https://github.com/unifyai/ivy/blob/3358b5bbadbe4cbc0509cad4ea8f05f178dfd8b8/ivy/utils/backend/handler.py">implicit_backend</a>.
However when the current backend is set to the previous using the <code class="xref py py-func docutils literal notranslate"><span class="pre">ivy.previous_backend()</span></code>, the <a class="reference external" href="https://github.com/unifyai/ivy/blob/3358b5bbadbe4cbc0509cad4ea8f05f178dfd8b8/ivy/utils/backend/handler.py">implicit_backend</a> will be used as a fallback, which will assume the backend from the last run.
While the <a class="reference external" href="https://github.com/unifyai/ivy/blob/3358b5bbadbe4cbc0509cad4ea8f05f178dfd8b8/ivy/utils/backend/handler.py">implicit_backend</a> functionality gives more freedom to the user, the recommended way of doing things would be to set the backend explicitly.
In addition, all the previously set backends can be cleared by calling <code class="xref py py-func docutils literal notranslate"><span class="pre">ivy.unset_backend()</span></code>.</p>
<section id="dynamic-backend-setting">
<h2>Dynamic Backend Setting<a class="headerlink" href="#dynamic-backend-setting" title="Link to this heading">#</a></h2>
<p>Working with different backends in Ivy can be challenging, especially when you need to switch between backends frequently.
To make this easier, users can make use of the dynamic backend attribute of <code class="xref py py-class docutils literal notranslate"><span class="pre">ivy.Array</span></code> and <code class="xref py py-class docutils literal notranslate"><span class="pre">ivy.Container</span></code> classes which allow you to automatically convert ivy arrays to the new backend whenever the backend is changed.
Essentially, when the user calls <code class="code docutils literal notranslate"><span class="pre">ivy.set_backend(&lt;backend&gt;,</span> <span class="pre">dynamic=True)</span></code>, the following steps are performed:</p>
<ol class="arabic simple">
<li><p>First, all live objects in the current project scope are found and then filtered to only include <code class="xref py py-class docutils literal notranslate"><span class="pre">ivy.Array</span></code>/<code class="xref py py-class docutils literal notranslate"><span class="pre">ivy.Container</span></code> objects.</p></li>
<li><p>Then, these objects are iterated through and converted to the target backend using DLPack or numpy as an intermediary.</p></li>
</ol>
<p>By default, the dynamic backend attribute is set to True when you create an ivy array (e.g., <code class="code docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">ivy.array([1,2,3])</span></code>), but the attribute is mutable and can be changed after the ivy array is created (e.g., <code class="code docutils literal notranslate"><span class="pre">x.dynamic_backend=</span> <span class="pre">True</span></code>).
Here’s an example to illustrate how this works in practice:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ivy</span><span class="o">.</span><span class="n">set_backend</span><span class="p">(</span><span class="s1">&#39;torch&#39;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">y</span><span class="o">.</span><span class="n">dynamic_backend</span><span class="o">=</span><span class="kc">False</span>
<span class="n">x</span><span class="o">.</span><span class="n">dynamic_backend</span><span class="o">=</span><span class="kc">True</span>
<span class="n">x</span><span class="o">.</span><span class="n">data</span> <span class="c1"># torch tensor</span>
<span class="n">y</span><span class="o">.</span><span class="n">data</span> <span class="c1"># torch.tensor</span>

<span class="n">ivy</span><span class="o">.</span><span class="n">set_backend</span><span class="p">(</span><span class="s1">&#39;jax&#39;</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">data</span> <span class="c1"># will be a jax array</span>
<span class="n">y</span><span class="o">.</span><span class="n">data</span> <span class="c1"># will still be a torch tensor since dynamic_backend=False</span>
</pre></div>
</div>
<p>Setting the attribute to True converts the array to the current backend even if the backend was set with <cite>dynamic=False</cite>. In addition to setting the dynamic backend attribute for individual ivy arrays, you can also set or unset the dynamic backend feature globally for all such instances using <a class="reference external" href="https://github.com/unifyai/ivy/blob/e2b0b1d7fcd454f12bfae94b03213457460276c8/ivy/__init__.py#L1150.">ivy.set_dynamic_backend</a> and <a class="reference external" href="https://github.com/unifyai/ivy/blob/e2b0b1d7fcd454f12bfae94b03213457460276c8/ivy/__init__.py#L1187.">ivy.unset_dynamic_backend</a> respectively.</p>
<p>Another useful feature of the dynamic backend is the <a class="reference external" href="https://github.com/unifyai/ivy/blob/e2b0b1d7fcd454f12bfae94b03213457460276c8/ivy/__init__.py#L1190.">ivy.dynamic_backend_as</a> context manager. This allows you to write code like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">ivy</span><span class="o">.</span><span class="n">dynamic_backend_as</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
  <span class="n">a</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">])</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">])</span>

<span class="k">with</span> <span class="n">ivy</span><span class="o">.</span><span class="n">dynamic_backend_as</span><span class="p">(</span><span class="kc">False</span><span class="p">):</span>
  <span class="n">c</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">4.</span><span class="p">,</span> <span class="mf">5.</span><span class="p">])</span>
  <span class="n">d</span> <span class="o">=</span> <span class="n">ivy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">6.</span><span class="p">,</span> <span class="mf">7.</span><span class="p">])</span>
</pre></div>
</div>
<p>This makes it easy to define different sections of your project with different settings, without having to explicitly call <code class="code docutils literal notranslate"><span class="pre">ivy.set_&lt;something&gt;</span></code> and <code class="code docutils literal notranslate"><span class="pre">ivy.unset_&lt;something&gt;</span></code> etc.</p>
</section>
<section id="backend-and-frontend-version-support">
<h2>Backend and Frontend Version Support<a class="headerlink" href="#backend-and-frontend-version-support" title="Link to this heading">#</a></h2>
<p>Each time a new ivy backend is set, the backend_handler modifies the <code class="xref py py-attr docutils literal notranslate"><span class="pre">ivy.__dict__</span></code> to support the multiple versions of functions that are not forward compatible.
For example, <code class="xref py py-func docutils literal notranslate"><span class="pre">torch.ones_like()</span></code> in the latest stable version <code class="code docutils literal notranslate"><span class="pre">1.12</span></code> has many new arguments <code class="code docutils literal notranslate"><span class="pre">dtype=None,</span> <span class="pre">layout=None,</span> <span class="pre">device=None,</span> <span class="pre">requires_grad=False,</span> <span class="pre">memory_format=torch.preserve_format</span></code> compared to the same function at version <code class="code docutils literal notranslate"><span class="pre">0.3.1</span></code>.
None of these new arguments will cause any forward compatibility issues: they weren’t used in old code, and they can now just be used in new code if desired.
However, the removal of the <code class="code docutils literal notranslate"><span class="pre">out</span></code> argument does break forward compatibility.
Old torch code will raise an <code class="xref py py-exc docutils literal notranslate"><span class="pre">Argument</span> <span class="pre">Not</span> <span class="pre">Found</span></code> error if being run with new torch versions.
However, such forward-breaking changes are in the vast minority.</p>
<p>We currently use a naming convention for such functions and name them as <code class="code docutils literal notranslate"><span class="pre">fn_name_v_1p12_and_above</span></code> which means that this particular implementation of the function is valid for versions <code class="code docutils literal notranslate"><span class="pre">1.12</span></code> and above.
Similarly, <code class="code docutils literal notranslate"><span class="pre">fn_name_v_1p01_to_1p1</span></code> means that the function is valid for versions between <code class="code docutils literal notranslate"><span class="pre">1.01</span></code> and <code class="code docutils literal notranslate"><span class="pre">1.1</span></code> both inclusive.
Each time a backend is set, we go through the <code class="xref py py-attr docutils literal notranslate"><span class="pre">backend.__dict__</span></code> and for all functions for which multiple versions are detected, we simply import and assign the original <code class="code docutils literal notranslate"><span class="pre">fn_name</span></code> to the version specific one.
We do so by detecting the version of the backend framework installed on the user’s end.</p>
<p>We follow the same workflow for providing version support to the frontend functions.
Again the version is inferred by importing the corresponding framework on the user’s system.
If the user’s system doesn’t have the backend framework installed, we default to the latest version.</p>
<p><strong>Round Up</strong></p>
<p>This should have hopefully given you a good feel for how the backend framework is set.</p>
<p>If you have any questions, please feel free to reach out on <a class="reference external" href="https://discord.gg/sXyFF8tDtm">discord</a> in the <a class="reference external" href="https://discord.com/channels/799879767196958751/1189905734645850254">backend setting thread</a>!</p>
<p><strong>Video</strong></p>
<iframe width="420" height="315" allow="fullscreen;"
src="https://www.youtube.com/embed/ROt5E8aHgww" class="video">
</iframe></section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="superset_behaviour.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Superset Behaviour</p>
      </div>
    </a>
    <a class="right-next"
       href="arrays.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Arrays</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dynamic-backend-setting">Dynamic Backend Setting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#backend-and-frontend-version-support">Backend and Frontend Version Support</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Transpile AI.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.5.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>